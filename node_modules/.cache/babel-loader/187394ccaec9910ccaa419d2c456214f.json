{"ast":null,"code":"var _jsxFileName = \"D:\\\\Desktop\\\\contact-list-main\\\\src\\\\components\\\\ContactList.js\";\nimport React from \"react\";\nimport { Container, Button, Row, CardGroup, Col } from \"react-bootstrap\";\nimport Contact from \"./Contact\";\nimport ContactForm from \"./ContactForm\";\nimport { userApi } from '../API/url';\nimport Header from \"./Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ContactList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.toggleAddForm = val => {\n      this.setState({\n        showAddform: val\n      });\n    };\n\n    this.handleformSubmit = user => {\n      const {\n        users\n      } = this.state; // correct the id of user\n\n      user.id = this.state.lastId + 1;\n      let newArray = [...users];\n      newArray.push(user);\n      this.setState({\n        showAddform: false,\n        lastId: user.id,\n        users: [...newArray]\n      }); // scroll to the bottom\n\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"auto\"\n      });\n    };\n\n    this.handleUpdateContact = user => {\n      const {\n        users,\n        lastDeletedIndex\n      } = this.state;\n      user.id = user.userId;\n      let newArray = [...users];\n      let length = newArray.length;\n      let {\n        lastId\n      } = this.state;\n      let diff = lastId - length;\n\n      if (user.id <= lastDeletedIndex) {\n        newArray[user.id - 1] = user;\n      } else {\n        newArray[user.id - diff - 1] = user;\n      }\n\n      console.log(newArray);\n      this.setState({\n        users: newArray\n      });\n    };\n\n    this.handleDeleteContact = userId => {\n      const {\n        users\n      } = this.state;\n      const filteredItems = users.filter(item => item.id !== userId); //update users array\n\n      this.setState({\n        users: filteredItems,\n        lastDeletedIndex: userId - 1\n      });\n    };\n\n    this.state = {\n      users: [],\n      showAddform: false,\n      lastId: 10,\n      lastDeletedIndex: -1\n    };\n  }\n\n  componentDidMount() {\n    fetch(userApi).then(res => res.json()).then(users => {\n      console.log(users);\n      this.setState({\n        users: users\n      });\n    });\n  } //show/hide add form\n\n\n  render() {\n    const {\n      users,\n      showAddform\n    } = this.state;\n    console.log(users);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [\" \", /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"d-grid gap-2 mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            size: \"lg\",\n            onClick: () => this.toggleAddForm(!showAddform),\n            children: \"Show / Hide Contact Form\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: showAddform ? /*#__PURE__*/_jsxDEV(ContactForm, {\n            formSubmit: this.handleformSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"d-flex justify-content-center\",\n          children: users.map(user => /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(CardGroup, {\n              children: /*#__PURE__*/_jsxDEV(Contact, {\n                user: user,\n                deleteContact: this.handleDeleteContact,\n                editContact: this.handleUpdateContact\n              }, user, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default ContactList;","map":{"version":3,"names":["React","Container","Button","Row","CardGroup","Col","Contact","ContactForm","userApi","Header","ContactList","Component","constructor","props","toggleAddForm","val","setState","showAddform","handleformSubmit","user","users","state","id","lastId","newArray","push","window","scrollTo","top","document","documentElement","scrollHeight","behavior","handleUpdateContact","lastDeletedIndex","userId","length","diff","console","log","handleDeleteContact","filteredItems","filter","item","componentDidMount","fetch","then","res","json","render","map"],"sources":["D:/Desktop/contact-list-main/src/components/ContactList.js"],"sourcesContent":["import React from \"react\";\nimport { Container, Button, Row, CardGroup, Col } from \"react-bootstrap\";\n\nimport Contact from \"./Contact\";\nimport ContactForm from \"./ContactForm\";\nimport { userApi } from '../API/url';\nimport Header from \"./Header\"\n\nclass ContactList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      showAddform: false,\n      lastId: 10,\n      lastDeletedIndex: -1,\n    };\n  }\n  componentDidMount() {\n    fetch(userApi)\n      .then((res) => res.json())\n      .then((users) => {\n        console.log(users);\n\n        this.setState({\n          users: users,\n        });\n      });\n  }\n\n  //show/hide add form\n  toggleAddForm = (val) => {\n    this.setState({\n      showAddform: val,\n    });\n  };\n\n  // handling adding new contact\n  handleformSubmit = (user) => {\n    const { users } = this.state;\n    // correct the id of user\n    user.id = this.state.lastId + 1;\n    let newArray = [...users];\n    newArray.push(user);\n    this.setState({\n      showAddform: false,\n      lastId: user.id,\n      users: [...newArray],\n    });\n    // scroll to the bottom\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"auto\",\n    });\n  };\n\n  //handle update contact\n  handleUpdateContact = (user) => {\n    const { users, lastDeletedIndex } = this.state;\n    user.id = user.userId;\n    let newArray = [...users];\n    let length = newArray.length;\n    let { lastId } = this.state;\n    let diff = lastId - length;\n    if (user.id <= lastDeletedIndex) {\n      newArray[user.id - 1] = user;\n    } else {\n      newArray[user.id - diff - 1] = user;\n    }\n    console.log(newArray);\n    this.setState({\n      users: newArray,\n    });\n  };\n\n  // handle delete contact\n  handleDeleteContact = (userId) => {\n    const { users } = this.state;\n\n    const filteredItems = users.filter((item) => item.id !== userId);\n\n    //update users array\n    this.setState({\n      users: filteredItems,\n      lastDeletedIndex: userId - 1,\n    });\n  };\n  render() {\n    const { users, showAddform } = this.state;\n    console.log(users);\n    return (\n      <>\n        <Container>\n          <Row>\n            {\" \"}\n            <Header />\n          </Row>\n          <Row className=\"d-grid gap-2 mb-3\">\n            <Button\n              variant=\"primary\"\n              size=\"lg\"\n              onClick={() => this.toggleAddForm(!showAddform)}\n            >\n              Show / Hide Contact Form\n            </Button>\n          </Row>\n          <Row className=\"mb-3\">\n            {showAddform ? (\n              <ContactForm formSubmit={this.handleformSubmit} />\n            ) : null}\n          </Row>\n\n          <Row className=\"d-flex justify-content-center\">\n            {users.map((user) => (\n              <Col>\n                <CardGroup>\n                  <Contact\n                    key={user}\n                    user={user}\n                    deleteContact={this.handleDeleteContact}\n                    editContact={this.handleUpdateContact}\n                  />\n                </CardGroup>\n              </Col>\n            ))}\n          </Row>\n        </Container>\n      </>\n    );\n  }\n}\nexport default ContactList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}